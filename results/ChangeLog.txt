16:22 01/10/2025 v1
Versión base creada con Claude IA.
Modificaciones posteriores directamente en Visual Studio Code con la ayuda del Chat (GPT-4o).

OK -> Quisiera que de forma predeterminada suceda lo siguiente:
OK -> Column Visibility: Desactivar los campos ID, LOCATION, SURFACE, ORGANISATION, CATEGORY, GRADE.
OK -> Gráfico Participants by Gender: Color AZUL para Men, color ROJO para Women.
OK -> Filters: Borrar Distance. Hacer que Race Name se pueda filtrar por palabra clave al igual que Athlete Name pero que a la vez se puedan ver los nombres de las carreras y hacer selecciones múltiples, darle más importancia que Surface y Gender.
OK -> Corregir el cálculo de Total Distance (km) Avg Pace (min/km) porque muestran 0 (cero) todo el tiempo.

OK ->Dame el código necesario para agregar un botón justo debajo de "Filtros" que configure Date From en 01/10/2024 y "Date To" en 30/09/2025

13:22 04/10/2025
OK -> Agregados botones para filtrar por año 2024 y 2025
OK -> Achicar los otros tres gráficos Races by Surface, Participants by Gender y Surface Breakdown.

21:38 04/10/2025
OK -> Races by Surface and Surface Breakdown (OK) tiene que ser de se las filteredRaces.
OK -> El cálculo e distancia todavía no funciona.
OK -> Gráfico Races by Month que ocupe todo el ancho de la pantalla.
OK -> Ancho de la columna DATE que sea lo suficientemente ancha para que entre YYYY-MM-DD en un sólo renglón.

02:37 05/10/2025
OK -> Salto de página para la impresión. O mejor que se pueda exportar la tabla? Imprimirla directamente?
OK -> Multiples páginas cuando haya más de 100 registros, o botón "Show All" para que despliegue toda la tabla.

03:07 05/10/2025
OK -> Al imprimir, enviar las estadísticas como dateFrom, dateTo, filteredRaces, filteredAthletes
OK -> Al imprimir, enviar el logo de LVAC a la izquierda del título.

15:25 05/10/2025
OK -> Ver dónde ingresar los totales de registro. Capaz una pequeña línea en algún lado con el totalRecords, totalRaces, totalAthletes.
OK -> Mostrar fecha de registro más antiguo y última fecha registrada.

22:34 05/10/2025 v3
OK -> El botón Show Full Table debería desactivarse si la tabla no está limitada.

18:17 06/10/2025
OK -> La tabla que se imprime debe ser la tabla sin slice().
OK -> Agregar un stat totalRecords al imprimir.
OK -> En la tabla se puede hacer el Athlete Name clickeable para filtrar por su nombre.
OK -> Color del link en el nombre azul como el club.
OK -> Columna SURFACE que esté visible al cargar.

19:47 06/10/2025 v4
OK -> El gráfico Races by Month las barras tienen distintos colores pero no sé en base a qué. Son colores aleatorios. Creo MONTH_COLOURS para que se usen esos colores cíclicamente.
OK -> Races by Month mostrar la cantidad de races en la label del month. Mostraba participaciones. Corregido a carreras por cada mes.

20:28 06/10/2025 v5 Movido al GitHub de liffeyvalleyac.com
OK -> Mejorar las labels dentro de month, colocándolas arriba  cada barra. Uso grace: '5%' para dejarle margen arriba.

22:54 13/10/2025 v6
OK -> Agregado filtro últimos 30 días. Mejorada la función para reutilizar filtro por fecha desde y hasta.

23:14 15/10/2025 v7
OK -> Verificar cantidad e Athletes no es igual a la filtrada en Google Sheets. En la web salen 100, en Google Sheets 94.
Conteo correcto si normalizamos antes de hacer new Set -> const filteredAthletes = new Set(filteredData.map(d => d.ATHLETE?.normalize('NFC').trim().toLowerCase())).size;
OK -> Nuevos colores para superficies:
const SURFACE_COLORS = { 
    'Road': '#6B7280',   // Gris asfalto — neutro, urbano
    'Track': '#B91C1C',  // Rojo ladrillo — típico del tartán de pista
    'XC': '#166534',     // Verde oscuro — césped, tierra, naturaleza
    'Trail': '#8B5A2B'   // Marrón tierra — caminos de montaña o barro
};

20:03 16/11/2025 v8
OK -> Cuando se hace click en el nombre dentro e la tabla, si el nombre tiene apóstrofe, el filtro no se carga correctamente.
The fix uses .replace(/'/g, "\\'") to escape all apostrophes in the athlete name before inserting it into the onclick handler.
OK -> Snow Flakes falling on all web pages




FUTURE IMPROVEMENTS:

Que la visualización predeterminada de la tabla sea en ordenamiento por DATE descendente, pero manteniendo GENDER Woman first and Men second, and PLACE in ascending order respectively.

Al visualizar en celular, las estadísticas se ven mal. Disminuir el gap y reducir el tamaño de la fuente. La tabla hacerla más corta para que siempre se vea parte de la pantalla para hacer scroll porque sino quedamos "atrapados" dentro de la tabla haciendo scroll.

Filtrar por distancia Min y Max.

Si la tabla está vacía, que el botón Print Table esté deshabilitado.

Encabezados de tabla clickeables para ordenar de manera Ascendente o Descendente.

Al imprimir, enviar una nota opcional que se agregue como descripción debajo del título, antes de la tabla.

Agregar otro filtro a la derecha de Gender que filtre si la palabra Handicap se encuentra dentro e NOTES.

Botón para filtrar las carreras que incluyen una copa del Club, cuyo Race Name contiene la palabra "Cup".

Team Results. Pensar una forma de resumir los resultados por equipo, y si se consiguieron medallas.



